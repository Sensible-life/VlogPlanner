# Fine-tuned Model ì‚¬ìš© ê°€ì´ë“œ

## ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” OpenAIì˜ Fine-tuned GPT-4o ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œë¶€í„° ì™„ì „í•œ ë¸Œì´ë¡œê·¸ ìŠ¤í† ë¦¬ë³´ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

**Fine-tuned Model ID**: `ft:gpt-4o-2024-08-06:ael-kaist:vlog-template-v1:CUv7VoVY`

## ì£¼ìš” ê¸°ëŠ¥

Fine-tuned modelì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒ ì •ë³´ë“¤ì´ í¬í•¨ëœ ì™„ì „í•œ ìŠ¤í† ë¦¬ë³´ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤:

### 1. ìŠ¤í† ë¦¬ë³´ë“œ ê¸°ë³¸ ì •ë³´
- **ë¸Œì´ë¡œê·¸ ì œëª©**: ì‚¬ìš©ì ì…ë ¥ì— ë§ëŠ” ë§¤ë ¥ì ì¸ ì œëª©
- **í‚¤ì›Œë“œ 3ê°œ**: ë¸Œì´ë¡œê·¸ë¥¼ ìš”ì•½í•˜ëŠ” í•µì‹¬ í‚¤ì›Œë“œ (ì˜ˆ: "ì¼ìƒ", "ì¹œêµ¬ë“¤ê³¼", "ë‚®, ë§‘ìŒ")
- **ì´¬ì˜ ì¥ë¹„**: ìŠ¤ë§ˆíŠ¸í°, DSLR ë“±
- **ì´¬ì˜ ê¸¸ì´**: ëª©í‘œ ì˜ìƒ ê¸¸ì´ (ë¶„)
- **ì”¬ ê°œìˆ˜**: ìµœì†Œ 10ê°œ ì´ìƒ
- **ì´¬ì˜ ì˜ˆì‚°**: ì…ì¥ë£Œ, ì‹ë¹„, ê¸°íƒ€ í¬í•¨
- **ë“±ì¥ ì¸ë¬¼**: ì´¬ì˜ ì¸ì›
- **ì˜ìƒ í†¤**: ë°ê³  ê²½ì¾Œ, ì°¨ë¶„í•œ ë“±

### 2. ìŠ¤íƒ€ì¼/í†¤ ë¶„ì„ (ë ˆì´ë” ì°¨íŠ¸ìš©)
ë‹¤ìŒ 6ê°œ í•­ëª©ì— ëŒ€í•´ 1-5 ì ìˆ˜ë¡œ ë¶„ì„ë©ë‹ˆë‹¤:
- **ê°ì • í‘œí˜„**: ê°ì •ì˜ í’ë¶€í•¨ê³¼ ë‹¤ì–‘ì„±
- **ë™ì‘**: ì›€ì§ì„ì˜ í™œë°œí•¨
- **ê°•ë„**: ì—ë„ˆì§€ì™€ ëª°ì…ë„
- **ì¥ì†Œ ë‹¤ì–‘ì„±**: ì´¬ì˜ ì¥ì†Œì˜ ë‹¤ì–‘ì„±
- **ì†ë„/ë¦¬ë“¬**: ì˜ìƒì˜ í…œí¬
- **í¥ë¶„/ë†€ëŒ**: ì˜ˆìƒì¹˜ ëª»í•œ ì´ë²¤íŠ¸ì™€ ì¬ë¯¸ ìš”ì†Œ

### 3. ì´¬ì˜ ë™ì„  (êµ¬ê¸€ë§µ ë§ˆì»¤ìš©)
- ì‹¤ì œ **ìœ„ë„/ê²½ë„ ì¢Œí‘œ**ë¥¼ í¬í•¨í•œ ì´¬ì˜ ì¥ì†Œ ëª©ë¡
- ì´¬ì˜ ìˆœì„œëŒ€ë¡œ ì •ë ¬
- ê° ì¥ì†Œì— ëŒ€í•œ ì„¤ëª…
- ì˜ˆìƒ ì´ë™ ì‹œê°„

### 4. ì„¸ë¶€ ì”¬ ì •ë³´ (ìµœì†Œ 10ê°œ)
ê° ì”¬ë§ˆë‹¤ ë‹¤ìŒ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤:
- **ìš”ì•½ë³¸**: ì”¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª… (2ì¤„)
- **ì´¬ì˜ ì‹œê°„**: ì”¬ë³„ í• ë‹¹ ì‹œê°„ (ì´ˆ)
- **ê°„ë‹¨í•œ ëŒ€ë³¸**: 3-5ì¤„ì˜ ë‚˜ë ˆì´ì…˜/ëŒ€í™”
- **ì´¬ì˜ ìŠ¤í…**: 3ë‹¨ê³„ ì´¬ì˜ ê°€ì´ë“œ
- **ì²´í¬ë¦¬ìŠ¤íŠ¸**: ì´¬ì˜ ì „ í™•ì¸ ì‚¬í•­ 3ê°œ
- **Pro íŒ**: í”„ë ˆì´ë°, ì˜¤ë””ì˜¤, í¸ì§‘ íŒíŠ¸ ë“±

### 5. ì´¬ì˜ ì¤€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸
ì „ì²´ ì´¬ì˜ì„ ìœ„í•œ ì¢…í•© ì²´í¬ë¦¬ìŠ¤íŠ¸

## ì‚¬ìš© ë°©ë²•

### 1. ê¸°ë³¸ ì‚¬ìš©ë²•

```dart
import 'package:graduationdesign/services/openai_service.dart';

// ì‚¬ìš©ì ì…ë ¥ ì¤€ë¹„
final userInput = {
  'target_duration': '8',  // ë¶„
  'location': 'ì˜¤ì›”ë“œ',
  'visit_context': 'ì¹œêµ¬ë“¤ê³¼',
  'time_weather': 'ë‚®, ë§‘ìŒ',
  'equipment': 'ìŠ¤ë§ˆíŠ¸í°',
  'difficulty': 'novice',
  'budget': '50000',  // ì›
};

// Fine-tuned modelë¡œ ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„±
final storyboard = await OpenAIService.generateStoryboardWithFineTunedModel(userInput);

if (storyboard != null) {
  // Planê³¼ CueCards íŒŒì‹±
  final result = await OpenAIService.parseStoryboard(storyboard);

  if (result != null) {
    final plan = result.plan;
    final cueCards = result.cueCards;

    // VlogDataServiceì— ì €ì¥
    final dataService = VlogDataService();
    dataService.setUserInput(userInput);
    dataService.setPlan(plan!);
    dataService.setCueCards(cueCards!);

    print('ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„± ì™„ë£Œ!');
    print('ì œëª©: ${plan.vlogTitle}');
    print('í‚¤ì›Œë“œ: ${plan.keywords.join(", ")}');
    print('ì”¬ ê°œìˆ˜: ${cueCards.length}');
  }
}
```

### 2. UIì—ì„œ ì‚¬ìš©í•˜ê¸°

user_input_page.dartì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì€ í›„:

```dart
// ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì€ í›„
final userInput = {
  'target_duration': _targetDuration,
  'location': _selectedLocation,
  'visit_context': _visitContext,
  'time_weather': _timeWeather,
  'equipment': _equipment,
  'difficulty': _difficulty,
  'budget': _budget,
};

// Loading ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
showLoadingDialog(context, 'ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„± ì¤‘...');

try {
  // Fine-tuned modelë¡œ ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„±
  final storyboard = await OpenAIService.generateStoryboardWithFineTunedModel(userInput);

  if (storyboard != null) {
    final result = await OpenAIService.parseStoryboard(storyboard);

    if (result != null) {
      // VlogDataServiceì— ì €ì¥
      final dataService = VlogDataService();
      dataService.setUserInput(userInput);
      dataService.setPlan(result.plan!);
      dataService.setCueCards(result.cueCards!);

      // ìŠ¤í† ë¦¬ë³´ë“œ í˜ì´ì§€ë¡œ ì´ë™
      Navigator.pop(context); // ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°
      Navigator.pushNamed(context, '/storyboard');
    }
  }
} catch (e) {
  Navigator.pop(context); // ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°
  showErrorDialog(context, 'ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: $e');
}
```

## ì‘ë‹µ ë°ì´í„° êµ¬ì¡°

### Plan ê°ì²´
```dart
Plan {
  vlogTitle: "ì¹œêµ¬ë“¤ê³¼ ì˜¤ì›”ë“œ ë‚˜ë“¤ì´! ğŸ¢",
  keywords: ["ì¼ìƒ", "ì¹œêµ¬ë“¤ê³¼", "ë‚®, ë§‘ìŒ"],
  goalDurationMin: 8,
  bufferRate: 0.12,
  chapters: [...],
  styleAnalysis: StyleAnalysis {
    tone: "ë°ê³  ê²½ì¾Œ",
    vibe: "MZ ê°ì„±",
    pacing: "ë¹ ë¥¸ í…œí¬",
    emotionalExpression: 4,  // 1-5
    movement: 3,
    intensity: 4,
    locationDiversity: 3,
    speedRhythm: 4,
    excitementSurprise: 5,
    visualStyle: [...],
    audioStyle: [...],
  },
  shootingRoute: ShootingRoute {
    locations: [
      LocationPoint {
        name: "ë©”ì¸ ê²Œì´íŠ¸",
        description: "ì…êµ¬ì—ì„œ ì˜¤í”„ë‹ ì´¬ì˜",
        latitude: 36.8109,
        longitude: 127.1498,
        order: 1,
      },
      ...
    ],
    routeDescription: "íš¨ìœ¨ì ì¸ ë™ì„  ì„¤ëª…",
    estimatedWalkingMinutes: 45,
  },
  budget: Budget {
    totalBudget: 50000,
    currency: "KRW",
    items: [...],
  },
}
```

### CueCard ê°ì²´
```dart
CueCard {
  title: "ì˜¤ì›”ë“œ ë„ì°©!",
  allocatedSec: 30,
  trigger: "entrance",
  summary: ["ì˜¤ì›”ë“œ ë„ì°©!", "ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì…êµ¬ì—ì„œ ì†Œê°œ"],
  steps: ["ê²Œì´íŠ¸ ì• ì„œê¸°", "ì†Œê°œ ë©˜íŠ¸ í•˜ê¸°", "ë§ˆì´í¬ ì²´í¬"],
  checklist: ["ë…¸ì¶œ ê³ ì •", "ë§ˆì´í¬ í™•ì¸", "í¬ì»¤ìŠ¤ ë½"],
  fallback: "ì‚¬ëŒ ë§ìœ¼ë©´ ì¸ì„œíŠ¸ ì´¬ì˜",
  startHint: "í‘œì§€íŒ ë³´ì¼ ë•Œ",
  stopHint: "ë‚˜ë ˆì´ì…˜ ì™„ë£Œ",
  completionCriteria: "í‘œì§€íŒ + ë‚˜ë ˆì´ì…˜",
  tone: "ë°ê³  ê²½ì¾Œ",
  styleVibe: "MZ",
  targetAudience: "20ëŒ€",
  script: "ë‚˜ë ˆì´ì…˜: ì˜¤ëŠ˜ì€ ì¹œêµ¬ë“¤ê³¼ ì˜¤ì›”ë“œì— ì™”ì–´ìš”!\nì£¼ì¸ê³µ: ë‚ ì”¨ë„ ì¢‹ê³  ê¸°ë¶„ ì¢‹ë„¤ìš”~\nì¹œêµ¬1: ì˜¤ëŠ˜ ë­ íƒˆê¹Œ?",
  pro: CueCardPro {
    framing: ["ìƒ1/3 êµ¬ë„", "ì›Œí‚¹ ìµœì†Œ"],
    audio: ["ì… 30~40cm"],
    dialogue: ["ë“œë””ì–´ ë„ì°©í–ˆì–´ìš”!", "ì˜¤ëŠ˜ ë‚ ì”¨ ì™„ì „ ì¢‹ë„¤ìš”"],
    editHint: ["ì¸ì„œíŠ¸â†’ì í”„ì»·"],
    safety: ["í†µí–‰ ë°©í•´ ê¸ˆì§€"],
    broll: ["í‘œì§€íŒ í´ë¡œì¦ˆì—…", "í•˜ëŠ˜ ì´¬ì˜", "ë°œê±¸ìŒ"],
  },
}
```

## ë°ì´í„° í™œìš©

### VlogDataServiceë¥¼ í†µí•œ ë°ì´í„° ì ‘ê·¼

```dart
final dataService = VlogDataService();

// ê¸°ë³¸ ì •ë³´
String vlogTitle = dataService.getVlogTitle();
String keywords = dataService.getKeywordsString();
String equipment = dataService.getEquipment();
String duration = dataService.getDuration();
String sceneCount = dataService.getSceneCount();
String totalBudget = dataService.getTotalBudget();

// ë ˆì´ë” ì°¨íŠ¸ ì ìˆ˜
int emotionalExpression = dataService.getEmotionalExpression();
int movement = dataService.getMovement();
int intensity = dataService.getIntensity();
int locationDiversity = dataService.getLocationDiversity();
int speedRhythm = dataService.getSpeedRhythm();
int excitementSurprise = dataService.getExcitementSurprise();

// ì´¬ì˜ ë™ì„ 
List<LocationPoint> locations = dataService.getShootingLocations();
String routeDescription = dataService.getRouteDescription();

// ì˜ˆì‚° ìƒì„¸
List<BudgetItem> budgetItems = dataService.getBudgetItems();

// ì”¬ ë¦¬ìŠ¤íŠ¸
List<CueCard> scenes = dataService.cueCards ?? [];
```

## ì£¼ì˜ì‚¬í•­

1. **API í‚¤ ì„¤ì •**: OpenAI API í‚¤ê°€ [ApiConfig](lib/config/api_config.dart)ì— ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

2. **ëª¨ë¸ ID**: Fine-tuned model IDê°€ ì •í™•í•´ì•¼ í•©ë‹ˆë‹¤:
   ```dart
   static const String _fineTunedModel = 'ft:gpt-4o-2024-08-06:ael-kaist:vlog-template-v1:CUv7VoVY';
   ```

3. **ì‘ë‹µ ì‹œê°„**: Fine-tuned modelì€ ë§ì€ ë°ì´í„°ë¥¼ ìƒì„±í•˜ë¯€ë¡œ ì‘ë‹µ ì‹œê°„ì´ 10-30ì´ˆ ì •ë„ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. **ìµœì†Œ ì”¬ ê°œìˆ˜**: í”„ë¡¬í”„íŠ¸ì—ì„œ ìµœì†Œ 10ê°œì˜ ì”¬ì„ ìš”ì²­í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì‚¬ìš©ìì˜ ëª©í‘œ ê¸¸ì´ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

5. **GPS ì¢Œí‘œ**: ì´¬ì˜ ì¥ì†Œì˜ GPS ì¢Œí‘œëŠ” ì‹¤ì œ ì¥ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë˜ë¯€ë¡œ ì •í™•í•©ë‹ˆë‹¤.

## ì—ëŸ¬ ì²˜ë¦¬

```dart
try {
  final storyboard = await OpenAIService.generateStoryboardWithFineTunedModel(userInput);

  if (storyboard == null) {
    print('ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„± ì‹¤íŒ¨: API ì‘ë‹µì´ nullì…ë‹ˆë‹¤.');
    return;
  }

  final result = await OpenAIService.parseStoryboard(storyboard);

  if (result == null) {
    print('ìŠ¤í† ë¦¬ë³´ë“œ íŒŒì‹± ì‹¤íŒ¨: ë°ì´í„° í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
    return;
  }

  // ì„±ê³µ
  final plan = result.plan;
  final cueCards = result.cueCards;

} catch (e) {
  print('ì—ëŸ¬ ë°œìƒ: $e');
  // ì—ëŸ¬ ì²˜ë¦¬
}
```

## ì°¸ê³  íŒŒì¼

- [lib/constants/prompts.dart](lib/constants/prompts.dart) - Fine-tuned model í”„ë¡¬í”„íŠ¸
- [lib/services/openai_service.dart](lib/services/openai_service.dart) - API í˜¸ì¶œ ë¡œì§
- [lib/services/vlog_data_service.dart](lib/services/vlog_data_service.dart) - ë°ì´í„° ê´€ë¦¬
- [lib/models/plan.dart](lib/models/plan.dart) - Plan ë°ì´í„° ëª¨ë¸
- [lib/models/cue_card.dart](lib/models/cue_card.dart) - CueCard ë°ì´í„° ëª¨ë¸
- [lib/screens/storyboard/storyboard_page.dart](lib/screens/storyboard/storyboard_page.dart) - ìŠ¤í† ë¦¬ë³´ë“œ UI

## ë¬¸ì˜

Fine-tuned model ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ë©´ í”„ë¡œì íŠ¸ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.
